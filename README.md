# Projects

A CLI tool for managing and organizing local git projects. Scan directories to discover projects, track their git status, and maintain a record of your work across GitHub, Bitbucket, Codeberg, and GitLab.

## Features

### Current

- **Directory Scanning** - Recursively scan directories to find project roots with configurable depth
- **Project Detection** - Automatically detect project type by marker files
- **Git Status** - Live git information for each project:
  - Origin URL
  - Unpushed commits
  - Working tree status (staged, modified, untracked files)

### Planned

- Sort and organize projects
- Tag projects for categorization
- Filter by language
- Filter by tag
- Store state in TOML file
- Filter by git origin
- Add projects that only exist in git (not on filesystem)
- Import from GitHub, Bitbucket, Codeberg, GitLab and match to local repos

## Supported Languages

| Language  | Marker Files                                      |
|-----------|--------------------------------------------------|
| Zig       | `build.zig`, `build.zig.zon`                     |
| Go        | `go.mod`, `go.sum`                               |
| Elixir    | `mix.exs`                                        |
| TypeScript| `tsconfig.json`                                  |
| JavaScript| `package.json`                                   |
| Python    | `pyproject.toml`, `setup.py`, `requirements.txt`, `Pipfile` |
| Ruby      | `Gemfile`, `.ruby-version`                       |
| Rust      | `Cargo.toml`, `rust-toolchain.toml`              |
| C/C++     | `CMakeLists.txt`, `configure.ac`                 |
| Java      | `pom.xml`, `build.gradle`                        |
| PHP       | `composer.json`                                  |

## Architecture

```
projects/
├── build.zig          # Build configuration
├── build.zig.zon      # Package manifest
├── mise.toml          # Development tool config
└── src/
    ├── main.zig       # CLI entry point, argument parsing, scanning logic
    └── root.zig       # Library module for reusable functionality
```

### Dependencies

- [zig-clap](https://github.com/Hejsil/zig-clap) - Command-line argument parsing
- [libgit2](https://libgit2.org/) - Git repository access

### Key Components

**main.zig:**
- `main()` - Entry point, initializes libgit2, parses CLI args
- `scanDirectoryDepth()` / `scanDirectoryRecursive()` - Directory traversal
- `determineProjectType()` - Detects project language and retrieves git info
- `printOriginUrl()` - Displays git remote origin
- `showUnpushedCommits()` - Lists commits not pushed to remote
- `showWorkingTreeStatus()` - Shows staged/unstaged changes

## Requirements

- Zig 0.16.0+
- libgit2

## Installation

```bash
# Install libgit2 (macOS)
brew install libgit2

# Build
zig build

# Run
zig build run -- /path/to/projects
```

## Usage

```
projects [options] <path>

Options:
  -h, --help          Display help and exit
  -d, --depth <int>   Directory scan depth (default: 3)
```

### Examples

```bash
# Scan ~/code with default depth of 3
projects ~/code

# Scan with depth of 5
projects -d 5 ~/code
```

## Development

```bash
# Install dev tools (via mise)
mise install

# Build
zig build

# Run tests
zig build test

# Run the application
zig build run -- /path/to/scan
```

## License

MIT

### AI Disclaimer

This is a learning project for me so I'm trying to use as little AI as possible. The git integration so far has been generated by AI but I plan to rewrite that to understand it better. Also the README.md is generated by AI and will be maintained by AI.
